<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-preset="contrast" data-primary-color="#307FFF"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="built-on" content="2025-01-24T11:08:56.548989"><title>Storage Migration | hms-mirror</title><script type="application/json" id="virtual-toc-data">[{"id":"location-translation-strategy","level":0,"title":"Location Translation Strategy","anchor":"#location-translation-strategy"},{"id":"data-movement-strategy","level":0,"title":"Data Movement Strategy","anchor":"#data-movement-strategy"},{"id":"skip-database-location-adjustments","level":0,"title":"Skip Database Location Adjustments","anchor":"#skip-database-location-adjustments"},{"id":"create-archive","level":0,"title":"Create Archive","anchor":"#create-archive"},{"id":"consolidate-source-tables","level":0,"title":"Consolidate Source Tables","anchor":"#consolidate-source-tables"},{"id":"strict-mode","level":0,"title":"Strict Mode","anchor":"#strict-mode"}]</script><script type="application/json" id="topic-shortcuts"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.10.0-b575/app.css" rel="stylesheet"><meta name="msapplication-TileColor" content="#000000"><link rel="apple-touch-icon" sizes="180x180" href="https://jetbrains.com/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://jetbrains.com/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://jetbrains.com/favicon-16x16.png"><meta name="msapplication-TileImage" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-144x144.png"><meta name="msapplication-square70x70logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-70x70.png"><meta name="msapplication-square150x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-150x150.png"><meta name="msapplication-wide310x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x150.png"><meta name="msapplication-square310x310logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x310.png"><meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="Storage Migration | hms-mirror"><meta property="og:description" content=""><meta property="og:image" content=""><meta property="og:site_name" content="hms-mirror Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="writerside-documentation/hms-mirror/v2.2.0.x/transfer-storage-migration.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="Storage Migration | hms-mirror"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "writerside-documentation/hms-mirror/v2.2.0.x/transfer-storage-migration.html#webpage",
    "url": "writerside-documentation/hms-mirror/v2.2.0.x/transfer-storage-migration.html",
    "name": "Storage Migration | hms-mirror",
    "description": "",
    "image": "",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "writerside-documentation/hms-mirror/#website",
    "url": "writerside-documentation/hms-mirror/",
    "name": "hms-mirror Help"
}</script><!-- End Schema.org --></head><body data-id="Transfer-Storage-Migration" data-main-title="Storage Migration" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}" data-template="article" data-breadcrumbs="Index-of-Settings.md|Index of Settings///Transfer.md|Transfer"><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>hms-mirror v2.2.0.x Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="Transfer-Storage-Migration" id="Transfer-Storage-Migration.md">Storage Migration</h1><section class="chapter"><h2 id="location-translation-strategy" data-toc="location-translation-strategy">Location Translation Strategy</h2><div class="code-block" data-lang="yaml">
transfer:
  storageMigration:
    translationType: &quot;ALIGNED|RELATIVE&quot;
</div></section><section class="chapter"><h2 id="data-movement-strategy" data-toc="data-movement-strategy">Data Movement Strategy</h2><div class="code-block" data-lang="yaml">
transfer:
  storageMigration:
    dataMovementStrategy: &quot;SQL|DISTCP&quot;
</div></section><section class="chapter"><h2 id="skip-database-location-adjustments" data-toc="skip-database-location-adjustments">Skip Database Location Adjustments</h2><p id="-7073il_11">When true, the database location will NOT be adjusted to match the table locations that are migrated. &quot; + &quot;This is useful in the case of an 'archive' strategy where you only want to migrate the table(s) but are not yet &quot; + &quot;ready to migration or stage future tables at the new location.</p><div class="code-block" data-lang="yaml">
transfer:
  storageMigration:
    skipDatabaseLocationAdjustments: true|false
</div></section><section class="chapter"><h2 id="create-archive" data-toc="create-archive">Create Archive</h2><p id="-7073il_13">When true (default is false), the tables being migrated will be archived vs. simply changing the location details &quot; + &quot;of the tables metadata. This is relevant only for STORAGE_MIGRATION when using the 'DISTCP' data movement &quot; + &quot;strategy. When the data movement strategy is 'SQL' for STORAGE_MIGRATION, this flag is ignored because the default &quot; + &quot;behavior is to create an archive table anyhow.</p><div class="code-block" data-lang="yaml">
transfer:
  storageMigration:
    createArchive: true|false
</div></section><section class="chapter"><h2 id="consolidate-source-tables" data-toc="consolidate-source-tables">Consolidate Source Tables</h2><p id="-7073il_15">Used to help define how a <code class="code" id="-7073il_18">distcp</code> plan will be built when asked for. The default is <code class="code" id="-7073il_19">false</code> which means that will <span class="control" id="-7073il_20">NOT</span> be consolidating table locations.</p><p id="-7073il_16">If this is set to <code class="code" id="-7073il_21">true</code>, the <code class="code" id="-7073il_22">distcp</code> plan will <span class="control" id="-7073il_23">remove the table location</span> from the source (which is generally the database location) and use it for all transfers. This looks more simple, but could lead to copying more data than you expect since there's no guarantee that there isn't a lot of other 'extra' data in the source location.</p><div class="code-block" data-lang="yaml">
transfer:
  storageMigration:
    consolidateTablesForDistcp: true|false
</div></section><section class="chapter"><h2 id="strict-mode" data-toc="strict-mode">Strict Mode</h2><p id="-7073il_24">When true and using <code class="code" id="-7073il_26">distcp</code>, the migration will fail if the table partition locations aren't standard. The default is <code class="code" id="-7073il_27">false</code>. The default mode will allow you to move forward with warnings about the non-standard partition locations. It's highly recommended that you validate the location mappings in the <code class="code" id="-7073il_28">distcp</code> plan before running the migration.</p><div class="code-block" data-lang="yaml">
transfer:
  storageMigration:
    strict: true|false
</div></section><div class="last-modified">Last modified: 24 January 2025</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="transfer.html" class="navigation-links__prev">Transfer</a><a href="troubleshooting.html" class="navigation-links__next">Troubleshooting</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="https://resources.jetbrains.com/writerside/apidoc/6.10.0-b575/app.js"></script></body></html>