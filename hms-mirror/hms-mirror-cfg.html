<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-preset="contrast" data-primary-color="#307FFF"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="built-on" content="2025-04-14T12:55:18.541339"><title>Configuration | hms-mirror</title><script type="application/json" id="virtual-toc-data">[{"id":"left-and-right-clusters","level":0,"title":"LEFT and RIGHT Clusters","anchor":"#left-and-right-clusters"}]</script><script type="application/json" id="topic-shortcuts"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.22.0-b725/app.css" rel="stylesheet"><meta name="msapplication-TileColor" content="#000000"><link rel="apple-touch-icon" sizes="180x180" href="https://jetbrains.com/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://jetbrains.com/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://jetbrains.com/favicon-16x16.png"><meta name="msapplication-TileImage" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-144x144.png"><meta name="msapplication-square70x70logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-70x70.png"><meta name="msapplication-square150x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-150x150.png"><meta name="msapplication-wide310x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x150.png"><meta name="msapplication-square310x310logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x310.png"><meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="Configuration | hms-mirror"><meta property="og:description" content=""><meta property="og:image" content=""><meta property="og:site_name" content="hms-mirror Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="writerside-documentation/hms-mirror/v2.3.1.x/hms-mirror-cfg.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="Configuration | hms-mirror"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "writerside-documentation/hms-mirror/v2.3.1.x/hms-mirror-cfg.html#webpage",
    "url": "writerside-documentation/hms-mirror/v2.3.1.x/hms-mirror-cfg.html",
    "name": "Configuration | hms-mirror",
    "description": "",
    "image": "",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "writerside-documentation/hms-mirror/#website",
    "url": "writerside-documentation/hms-mirror/",
    "name": "hms-mirror Help"
}</script><!-- End Schema.org --></head><body data-id="hms-mirror-cfg" data-main-title="Configuration" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}" data-template="article" data-breadcrumbs=""><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>hms-mirror v2.3.1.x Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="hms-mirror-cfg" id="hms-mirror-cfg.md">Configuration</h1><section class="chapter"><h2 id="left-and-right-clusters" data-toc="left-and-right-clusters">LEFT and RIGHT Clusters</h2><p id="-x4663l_4"><code class="code" id="-x4663l_10">hms-mirror</code> defines clusters as LEFT and RIGHT. The LEFT cluster is the source of the metadata and the RIGHT cluster is the target. The LEFT cluster is usually the older cluster version. Regardless, under specific scenario's, <code class="code" id="-x4663l_11">hms-mirror</code> will use an HDFS client to check directories and move small amounts of data (AVRO schema files). <code class="code" id="-x4663l_12">hms-mirror</code> will depend on the configuration of the node it's running on to locate the 'hcfs filesystem'. This means that the <code class="code" id="-x4663l_13">/etc/hadoop/conf</code> directory should contain all the environments settings to successfully connect to <code class="code" id="-x4663l_14">hcfs (Hadoop Compatible File System</code>.</p><p id="-x4663l_5">The configuration is done via a 'yaml' file, details below.</p><p id="-x4663l_6">There are two ways to get started:</p><ul class="list _bullet" id="-x4663l_7"><li class="list__item" id="-x4663l_15"><p id="-x4663l_17">The first time you run <code class="code" id="-x4663l_19">hms-mirror</code> and it can't find a configuration, it will walk you through building one and save it to <code class="code" id="-x4663l_20">$HOME/.hms-mirror/cfg/default.yaml</code>. Here's what you'll need to complete the setup:</p><ul class="list _bullet" id="-x4663l_18"><li class="list__item" id="-x4663l_21"><p id="-x4663l_25">URI's for each clusters HiveServer2</p></li><li class="list__item" id="-x4663l_22"><p id="-x4663l_26">STANDALONE jar files for EACH Hive version.</p><ul class="list _bullet" id="-x4663l_27"><li class="list__item" id="-x4663l_28"><p id="-x4663l_30">We support the Apache Hive based drivers for Hive 1 and Hive2/3.</p></li><li class="list__item" id="-x4663l_29"><p id="-x4663l_31">Recently added support for the Cloudera JDBC driver for CDP.</p></li></ul></li><li class="list__item" id="-x4663l_23"><p id="-x4663l_32">Username and Password for non-kerberized connections.</p><ul class="list _bullet" id="-x4663l_33"><li class="list__item" id="-x4663l_34"><p id="-x4663l_35">Note: <code class="code" id="-x4663l_36">hms-mirror</code> will only support one kerberos connection. For the other, use another AUTH method.</p></li></ul></li><li class="list__item" id="-x4663l_24"><p id="-x4663l_37">The hcfs (Hadoop Compatible FileSystem) protocol and prefix used for the hive table locations in EACH cluster.</p></li></ul></li><li class="list__item" id="-x4663l_16"><p id="-x4663l_38">Use the <a href="hms-mirror-default-configuration-template.html" id="-x4663l_39" data-tooltip="Use this as a template for the default.yaml configuration file used by the cli interface. You can also build a configuration file in the 'web' interface and reference it in the cli interface.">template yaml</a> for reference and create a <code class="code" id="-x4663l_40">default.yaml</code> in the running users <code class="code" id="-x4663l_41">$HOME/.hms-mirror/cfg</code> directory.</p></li></ul><p id="-x4663l_8">You'll need JDBC driver jar files that are * <span class="emphasis" id="-x4663l_42">specific</span> to the clusters you'll integrate. If the <span class="control" id="-x4663l_43">LEFT</span> cluster isn't the same version as the <span class="control" id="-x4663l_44">RIGHT</span> cluster, don't use the same JDBC jar file, especially when integrating Hive 1 and Hive 3 services. The Hive 3 driver is NOT backwardly compatible with Hive 1.</p><p id="-x4663l_9">See the <a href="hms-mirror-running.html" id="-x4663l_45" data-tooltip="After running the setup.sh script, hms-mirror will be available in the $PATH in a default configuration.">running</a> section for examples on running <code class="code" id="-x4663l_46">hms-mirror</code> for various environment types and connections.</p></section><div class="last-modified">Last modified: 14 April 2025</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="linking-cluster-storage-layers.html" class="navigation-links__prev">Linking Cluster Storage Layers</a><a href="hms-mirror-setup.html" class="navigation-links__next">Setup</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="https://resources.jetbrains.com/writerside/apidoc/6.22.0-b725/app.js"></script></body></html>