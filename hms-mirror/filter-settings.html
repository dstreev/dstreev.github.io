<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-preset="contrast" data-primary-color="#307FFF"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="built-on" content="2025-02-06T14:53:31.89428"><title>Filter | hms-mirror</title><script type="application/json" id="virtual-toc-data">[{"id":"databases","level":0,"title":"Databases","anchor":"#databases"},{"id":"database-skip-properties-via-regex","level":0,"title":"Database Skip Properties (via RegEx)","anchor":"#database-skip-properties-via-regex"},{"id":"tables","level":0,"title":"Tables","anchor":"#tables"}]</script><script type="application/json" id="topic-shortcuts"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.10.0-b575/app.css" rel="stylesheet"><meta name="msapplication-TileColor" content="#000000"><link rel="apple-touch-icon" sizes="180x180" href="https://jetbrains.com/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://jetbrains.com/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://jetbrains.com/favicon-16x16.png"><meta name="msapplication-TileImage" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-144x144.png"><meta name="msapplication-square70x70logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-70x70.png"><meta name="msapplication-square150x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-150x150.png"><meta name="msapplication-wide310x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x150.png"><meta name="msapplication-square310x310logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x310.png"><meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="Filter | hms-mirror"><meta property="og:description" content=""><meta property="og:image" content=""><meta property="og:site_name" content="hms-mirror Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="writerside-documentation/hms-mirror/v2.3.0.x/filter-settings.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="Filter | hms-mirror"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "writerside-documentation/hms-mirror/v2.3.0.x/filter-settings.html#webpage",
    "url": "writerside-documentation/hms-mirror/v2.3.0.x/filter-settings.html",
    "name": "Filter | hms-mirror",
    "description": "",
    "image": "",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "writerside-documentation/hms-mirror/#website",
    "url": "writerside-documentation/hms-mirror/",
    "name": "hms-mirror Help"
}</script><!-- End Schema.org --></head><body data-id="filter_settings" data-main-title="Filter" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}" data-template="article" data-breadcrumbs="Index-of-Settings.md|Index of Settings"><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>hms-mirror v2.3.0.x Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="filter_settings" id="filter_settings.md">Filter</h1><section class="chapter"><h2 id="databases" data-toc="databases">Databases</h2><p id="-o2p3on_6">There are several ways to specify which databases to process. The most simple method is to provide a list of database(s) to process.</p><p id="-o2p3on_7">The first is to set the database(s) to process explicitly.</p><div class="tabs" id="-o2p3on_8" data-anchors="[-o2p3on_17,-o2p3on_18,-o2p3on_19]"><div class="tabs__content" data-gtm="tab" id="-o2p3on_17" data-title="CLI"><p id="-o2p3on_33"><code class="code" id="-o2p3on_34">-db &lt;databases&gt;|--database &lt;databases&gt;</code> 'databases' is a comma separated list of target databases to process.</p></div><div class="tabs__content" data-gtm="tab" id="-o2p3on_18" data-title="Web UI"><figure id="-o2p3on_20"><img alt="filter_databases.png" src="images/filter_databases.png" title="filter_databases.png" width="531" height="196"></figure></div><div class="tabs__content" data-gtm="tab" id="-o2p3on_19" data-title="Config File"><div class="code-block" data-lang="yaml" data-title="yaml">
databases:
- db_name
- db_name2
</div></div></div><p id="-o2p3on_9">The second method is to use a Regular Expression to match the database(s) to process.</p><div class="tabs" id="-o2p3on_10" data-anchors="[-o2p3on_21,-o2p3on_22,-o2p3on_23]"><div class="tabs__content" data-gtm="tab" id="-o2p3on_21" data-title="CLI"><p id="-o2p3on_36"><code class="code" id="-o2p3on_37">-dbRegEx &lt;regex&gt;|--database-regex &lt;regex&gt;</code> 'regex' is a valid &quot;Regular Expression&quot; used to filter which databases to process from the target cluster.</p></div><div class="tabs__content" data-gtm="tab" id="-o2p3on_22" data-title="Web UI"><figure id="-o2p3on_24"><img alt="filter_db_regex.png" src="images/filter_db_regex.png" title="filter_db_regex.png" width="531" height="196"></figure></div><div class="tabs__content" data-gtm="tab" id="-o2p3on_23" data-title="Config File"><p id="-o2p3on_38">Using the <code class="code" id="-o2p3on_40">-dbRegEx</code> on the CLI will populate the <code class="code" id="-o2p3on_41">databases</code> section of the config file with the regular expression matches.</p><div class="code-block" data-lang="yaml" data-title="yaml">
databases:
- db_name
- db_name2
</div></div></div><p id="-o2p3on_11">The third method is the most flexible and complete option. Use <a href="warehouse-plans.html" id="-o2p3on_42" data-tooltip="Warehouse Plans are the way you can control how 'each' Database is translated between clusters or storage environments. Warehouse plans allow you to control where the data will be translated to.">Warehouse Plans</a> to define the which databases to process. This method also allows you to define individual database location values.</p><div class="tabs" id="-o2p3on_12" data-anchors="[-o2p3on_13,-o2p3on_14,-o2p3on_15]"><div class="tabs__content" data-gtm="tab" id="-o2p3on_13" data-title="CLI"><p id="-o2p3on_43"><code class="code" id="-o2p3on_44">-wps,--warehouse-plans &lt;db=ext-dir:mngd-dir[,db=ext-dir:mngd-dir]...&gt;</code></p></div><div class="tabs__content" data-gtm="tab" id="-o2p3on_14" data-title="Web UI"><figure id="-o2p3on_45"><img alt="filter_wp.png" src="images/filter_wp.png" title="filter_wp.png" width="531" height="196"></figure></div><div class="tabs__content" data-gtm="tab" id="-o2p3on_15" data-title="Config File"><div class="code-block" data-lang="yaml" data-title="yaml">
translator:
  warehousePlans:
    db1:
      source: &quot;PLAN&quot;
      externalDirectory: &quot;/finance/external&quot;
      managedDirectory: &quot;/finance/managed&quot;
    db2:
        source: &quot;PLAN&quot;
        externalDirectory: &quot;/marketing/external&quot;
        managedDirectory: &quot;/marketing/managed&quot;
</div></div></div></section><section class="chapter"><h2 id="database-skip-properties-via-regex" data-toc="database-skip-properties-via-regex">Database Skip Properties (via RegEx)</h2><p id="-o2p3on_25">A user managed list of properties that will be filter OUT from the migration. For example: If you don't want to migrate a DBPROPERTY like <code class="code" id="-o2p3on_28">repl.incl.test=hello_world</code>, then add <code class="code" id="-o2p3on_29">repl\.incl.*</code> to this list.</p><aside class="prompt" data-type="note" data-title="" id="-o2p3on_26"><p>This is a RegEx, so ensure you follow that syntax.</p></aside><div class="tabs" id="-o2p3on_27" data-anchors="[-o2p3on_46,-o2p3on_47,-o2p3on_48]"><div class="tabs__content" data-gtm="tab" id="-o2p3on_46" data-title="CLI"><p id="-o2p3on_49"><code class="code" id="-o2p3on_50">-dbsp,--database-skip-properties &lt;properties&gt;</code> Comma separated list of database properties (regex) to skip during the migration process. This will prevent the property from being set on the target cluster.</p></div><div class="tabs__content" data-gtm="tab" id="-o2p3on_47" data-title="Web UI"><figure id="-o2p3on_51"><img alt="dbSkipProps.png" src="images/dbSkipProps.png" title="dbSkipProps.png" width="576" height="259"></figure></div><div class="tabs__content" data-gtm="tab" id="-o2p3on_48" data-title="Config File"><div class="code-block" data-lang="yaml" data-title="yaml">
filter:
  dbPropertySkipList:
    - &quot;repl\\.inc.*&quot;
</div></div></div></section><section class="chapter"><h2 id="tables" data-toc="tables">Tables</h2><p id="-o2p3on_30">When nothing is specified, all tables in the processed databases are included. To limit the tables processed, you can use the following options.</p><section class="chapter"><h3 id="by-regular-expression" data-toc="by-regular-expression">By Regular Expression</h3><div class="tabs" id="-o2p3on_53" data-anchors="[-o2p3on_54,-o2p3on_55,-o2p3on_56]"><div class="tabs__content" data-gtm="tab" id="-o2p3on_54" data-title="CLI"><p id="-o2p3on_57"><code class="code" id="-o2p3on_59">-tf &lt;regex&gt;</code> 'regex' used to match tables in the database to process. process.</p><p id="-o2p3on_58"><code class="code" id="-o2p3on_60">-tef &lt;regex&gt;</code> 'regex' used to match tables that would be 'EXCLUDED' in the database to process. process.</p></div><div class="tabs__content" data-gtm="tab" id="-o2p3on_55" data-title="Web UI"><figure id="-o2p3on_61"><img alt="filter_tbl_regex.png" src="images/filter_tbl_regex.png" title="filter_tbl_regex.png" width="870" height="229"></figure></div><div class="tabs__content" data-gtm="tab" id="-o2p3on_56" data-title="Config File"><div class="code-block" data-lang="yaml" data-title="yaml">
filter:
  tblRegEx: &quot;test.*&quot;
</div><div class="code-block" data-lang="yaml" data-title="yaml">
filter:
  tblExcludeRegEx: &quot;tmp.*&quot;
</div></div></div></section><section class="chapter"><h3 id="by-limits" data-toc="by-limits">By Limits</h3><div class="tabs" id="-o2p3on_64" data-anchors="[-o2p3on_65,-o2p3on_66,-o2p3on_67]"><div class="tabs__content" data-gtm="tab" id="-o2p3on_65" data-title="CLI"><p id="-o2p3on_68"><code class="code" id="-o2p3on_70">-tfp &lt;partition-count&gt;</code> 'partition-count' would be a limit of the number of partitions in a table that would be processed. Tables with more partitions than the limit would be excluded. A value of <code class="code" id="-o2p3on_71">-1</code> would include all tables.</p><p id="-o2p3on_69"><code class="code" id="-o2p3on_72">-tfs &lt;size MB&gt;</code> 'size MB' would be a limit in size for tables that would be processed. Tables greater in size would be excluded. A value of <code class="code" id="-o2p3on_73">-1</code> would include all tables.</p></div><div class="tabs__content" data-gtm="tab" id="-o2p3on_66" data-title="Web UI"><p id="-o2p3on_74">A value of <code class="code" id="-o2p3on_76">-1</code> would include all tables.</p><figure id="-o2p3on_75"><img alt="filter_limits.png" src="images/filter_limits.png" title="filter_limits.png" width="1416" height="367"></figure></div><div class="tabs__content" data-gtm="tab" id="-o2p3on_67" data-title="Config File"><p id="-o2p3on_77">A value of <code class="code" id="-o2p3on_79">-1</code> would include all tables.</p><div class="code-block" data-lang="yaml" data-title="yaml">
filter:
  tblSizeLimit: -1
  tblPartitionLimit: -1
</div></div></div></section></section><div class="last-modified">Last modified: 06 February 2025</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="migrate-tables.html" class="navigation-links__prev">Migrate Options</a><a href="cluster-settings.html" class="navigation-links__next">Cluster</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="https://resources.jetbrains.com/writerside/apidoc/6.10.0-b575/app.js"></script></body></html>