<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-preset="contrast" data-primary-color="#307FFF"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="built-on" content="2024-08-08T14:11:58.273606"><title>Release Notes | hms-mirror</title><script type="application/json" id="virtual-toc-data">[{"id":"v-2-x-changes","level":0,"title":"v.2.x Changes","anchor":"#v-2-x-changes"},{"id":"automatic-configuration-adjustments","level":0,"title":"Automatic Configuration Adjustments","anchor":"#automatic-configuration-adjustments"},{"id":"evaluate-partition-locations-and-reset-to-default-location","level":0,"title":"Evaluate Partition Locations and Reset to Default Location","anchor":"#evaluate-partition-locations-and-reset-to-default-location"},{"id":"concurrency","level":0,"title":"Concurrency","anchor":"#concurrency"},{"id":"global-location-maps","level":0,"title":"Global Location Maps","anchor":"#global-location-maps"},{"id":"jdk-11-support","level":0,"title":"JDK 11 Support","anchor":"#jdk-11-support"},{"id":"kerberos-support-and-platform-libraries","level":0,"title":"Kerberos Support and Platform Libraries","anchor":"#kerberos-support-and-platform-libraries"},{"id":"metastore-direct-access","level":0,"title":"Metastore Direct Access","anchor":"#metastore-direct-access"}]</script><script type="application/json" id="topic-shortcuts"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.10.0-b408/app.css" rel="stylesheet"><meta name="msapplication-TileColor" content="#000000"><link rel="apple-touch-icon" sizes="180x180" href="https://jetbrains.com/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://jetbrains.com/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://jetbrains.com/favicon-16x16.png"><meta name="msapplication-TileImage" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-144x144.png"><meta name="msapplication-square70x70logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-70x70.png"><meta name="msapplication-square150x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-150x150.png"><meta name="msapplication-wide310x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x150.png"><meta name="msapplication-square310x310logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x310.png"><meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="Release Notes | hms-mirror"><meta property="og:description" content=""><meta property="og:image" content=""><meta property="og:site_name" content="hms-mirror Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="writerside-documentation/hms-mirror/v2.2.x/release-notes.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="Release Notes | hms-mirror"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "writerside-documentation/hms-mirror/v2.2.x/release-notes.html#webpage",
    "url": "writerside-documentation/hms-mirror/v2.2.x/release-notes.html",
    "name": "Release Notes | hms-mirror",
    "description": "",
    "image": "",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "writerside-documentation/hms-mirror/#website",
    "url": "writerside-documentation/hms-mirror/",
    "name": "hms-mirror Help"
}</script><!-- End Schema.org --></head><body data-id="Release-Notes" data-main-title="Release Notes" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}" data-template="article" data-breadcrumbs=""><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>hms-mirror v2.2.x Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="Release-Notes" id="Release-Notes.md">Release Notes</h1><section class="chapter"><h2 id="v-2-x-changes" data-toc="v-2-x-changes">v.2.x Changes</h2><p id="-9h2kfr_11">This is a big release for <code class="code" id="-9h2kfr_14">hms-mirror</code>. We've added a Web interface to <code class="code" id="-9h2kfr_15">hms-mirror</code> that makes it easier to configure and run varies scenarios.</p><p id="-9h2kfr_12">Along with the Web interface, we've made some significant adjustments to the <code class="code" id="-9h2kfr_16">hms-mirror</code> engine which is much more complete than the previous release. The engine now supports a wider range of strategies and has a more robust configuration system.</p><p id="-9h2kfr_13">We do our best to guide you through configurations that make sense, help you build plans and manage complex scenarios.</p></section><section class="chapter"><h2 id="automatic-configuration-adjustments" data-toc="automatic-configuration-adjustments">Automatic Configuration Adjustments</h2><p id="-9h2kfr_17">To ensure that configuration settings are properly set, the application will automatically adjust the configuration settings to match a valid scenario. These changes will be recorded in the 'run status config messages' section and can be seen on reports or the web interface.</p><p id="-9h2kfr_18">Changes are mostly related to the acceptable strategy configurations. See <a href="location-alignment.html" id="-9h2kfr_19" data-tooltip="In the Hive Metastore, Database definitions, Table Schemas, and Partition details include the location of their datasets. These locations contain a full URI to the dataset. Migrating from one cluster to another requires us to make adjustments to these locations.">Location Alignment</a> for more details.</p></section><section class="chapter"><h2 id="evaluate-partition-locations-and-reset-to-default-location" data-toc="evaluate-partition-locations-and-reset-to-default-location">Evaluate Partition Locations and Reset to Default Location</h2><p id="-9h2kfr_20">These properties are no longer valid. An added property called 'translationType' is used to determine this functionality.</p><p id="-9h2kfr_21">Before the <code class="code" id="-9h2kfr_23">epl|evaluate-partition-locations</code> would gather partition location information from the Metastore Direct connection to ensure they were aligned. We've adjusted/simplified the concept with <code class="code" id="-9h2kfr_24">translationType</code>, which defined either <code class="code" id="-9h2kfr_25">RELATIVE</code> or <code class="code" id="-9h2kfr_26">ALIGNED</code> strategy types.</p><p id="-9h2kfr_22">See <a href="location-alignment.html" id="-9h2kfr_27" data-tooltip="In the Hive Metastore, Database definitions, Table Schemas, and Partition details include the location of their datasets. These locations contain a full URI to the dataset. Migrating from one cluster to another requires us to make adjustments to these locations.">Location Alignment</a> for more details.</p></section><section class="chapter"><h2 id="concurrency" data-toc="concurrency">Concurrency</h2><p id="-9h2kfr_28">In previous releases using the CLI, concurrency could be set through the configuration files <code class="code" id="-9h2kfr_30">transfer:concurrency</code> setting. The default was 4 if no setting was provided. This setting in the control file is NO LONGER supported and will be ignored. The new default concurrency setting is <code class="code" id="-9h2kfr_31">10</code> and can be overridden only during the application startup.</p><p id="-9h2kfr_29">See <a href="concurrency.html" id="-9h2kfr_32" data-tooltip="This controls how many parallel operations can be performed at once. The default is 10 and can be overridden during application startup.">Concurrency</a> for more details.</p></section><section class="chapter"><h2 id="global-location-maps" data-toc="global-location-maps">Global Location Maps</h2><p id="-9h2kfr_33">Previous releases had a fairly basic implementation of 'Global Location Maps'. These could be supplied through the cli option <code class="code" id="-9h2kfr_43">-glm</code>, which is still supported, but limited in functionality. The improved implementation work from the concept of building 'Warehouse Plans' which are then used to build the 'Global Location Maps'.</p><p id="-9h2kfr_34">See <span id="-9h2kfr_44">Warehouse Plans</span> for more details.</p><p id="-9h2kfr_35">The <code class="code" id="-9h2kfr_45">-glm</code> option can take an addition element to identify the mapping for a particular table type. As a result, any configuration files save with this setting will not be loaded and will need to be updated.</p><p id="-9h2kfr_36">While the <code class="code" id="-9h2kfr_46">-glm</code> option will still honor the old format of <code class="code" id="-9h2kfr_47">source_dir=target_dir</code>, the new format is <code class="code" id="-9h2kfr_48">source_dir:&lt;table_type&gt;:target_dir</code>. The <code class="code" id="-9h2kfr_49">table_type</code> is a new addition to the configuration and is required for the new implementation. When omitted, the mapping will be created for both EXTERNAL and MANAGED tables.</p><p id="-9h2kfr_37"><code class="code" id="-9h2kfr_50">&lt;table_type&gt;</code> can be one of: <code class="code" id="-9h2kfr_51">EXTERNAL_TABLE</code> or <code class="code" id="-9h2kfr_52">MANAGED_TABLE</code>.</p><p id="-9h2kfr_38"><code class="code" id="-9h2kfr_53">-glm /tpsds_base_dir=EXTERNAL_TABLE:/alt/ext/location</code></p><p id="-9h2kfr_39"><span class="control" id="-9h2kfr_54">Old Format</span></p><div class="code-block" data-lang="yaml">
globalLocationMap:
  /tpcds_base_dir: &quot;/alt/ext/location&quot;
  /tpcds_base_dir2/web: &quot;/alt/ext/location&quot;
</div><p id="-9h2kfr_41"><span class="control" id="-9h2kfr_55">New Format</span></p><div class="code-block" data-lang="yaml">
userGlobalLocationMap:
  /tpcds_base_dir:
    EXTERNAL_TABLE: &quot;/alt/ext/location&quot;
  /tpcds_base_dir2/web:
    EXTERNAL_TABLE: &quot;/alt/ext/location&quot;
</div></section><section class="chapter"><h2 id="jdk-11-support" data-toc="jdk-11-support">JDK 11 Support</h2><p id="-9h2kfr_56">The application now supports JDK 11, as well as JDK 8.</p></section><section class="chapter"><h2 id="kerberos-support-and-platform-libraries" data-toc="kerberos-support-and-platform-libraries">Kerberos Support and Platform Libraries</h2><p id="-9h2kfr_57">We are still working to replicate the options available in previous release with regard to Kerberos connections. Currently, <code class="code" id="-9h2kfr_60">hms-mirror</code> can only support a single Kerberos connection. This is the same as it was previously. <code class="code" id="-9h2kfr_61">hms-mirror</code> packaging includes the core Hadoop classes required for Kerberos connections pulled from the latest CDP release.</p><p id="-9h2kfr_58">In the past, we 'could' support kerberos connections to lower versions of Hadoop clusters (HDP and CDH) by running <code class="code" id="-9h2kfr_62">hms-mirror</code> on a cluster with those hadoop libraries installed and specifying <code class="code" id="-9h2kfr_63">--hadoop-classpath</code> on the commandline. This is no longer supported, as the packaging required to support the Web and REST interfaces is now different.</p><p id="-9h2kfr_59">We are investigating the possibility of supporting kerberos connections to lower clusters in the future.</p></section><section class="chapter"><h2 id="metastore-direct-access" data-toc="metastore-direct-access">Metastore Direct Access</h2><p id="-9h2kfr_64">In later 1.6 releases we introduced a 'Metastore Direct' connection type when defining a LEFT(source) cluster. To help build a more complete picture of locations in the metadata, we found it necessary to gather detailed location information for each partition of the datasets being inspected. Because Hive was so configurable regarding location preferences and the ability to set locations at the partition level, we needed to ensure that the locations were aligned. The only sure way to get this complete picture was to connect directly to the Metastore backend database. We currently support 'MYSQL' and 'POSTGRES' metastore backends. 'Oracle' coming soon.</p></section><div class="last-modified">Last modified: 08 August 2024</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="hms-mirror-introduction.html" class="navigation-links__prev">Introduction</a><a href="getting-started.html" class="navigation-links__next">Getting Started</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="https://resources.jetbrains.com/writerside/apidoc/6.10.0-b408/app.js"></script></body></html>